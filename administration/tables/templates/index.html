{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Room Booking Table</title>
        <link rel="stylesheet" href="{% static 'styles.css' %}">
        <style>
            .booked {
                background-color: #ffcccc;
                position: relative;
            }
            .booked:hover::after {
                content: attr(data-guest);
                position: absolute;
                background: #333;
                color: white;
                padding: 5px;
                border-radius: 3px;
                z-index: 100;
                top: 100%;
                left: 50%;
                transform: translateX(-50%);
                white-space: nowrap;
            }
        </style>
    </head>
    <body> 
        <nav class="navigation">
            <h1>Room Booking Table</h1>
            <div style="margin-left: 20px; display: inline-block;">
                <a href="{% url 'admin:index' %}">Admin</a>
            </div>
        </nav>

        <div style="overflow-x: auto; width: 100vw;">
            <table>
                <thead>
                    <tr>
                        <th colspan="32" style="text-align: left;">{{ current_month }}</th>
                    </tr>
                    <tr>
                        <th>Room Number</th>
                        <!-- Days 1-31 -->
                        {% for day in days %}
                            <th>{{ day }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for room in rooms %}
                    <tr>
                        <td>Room {{ room.room_number }}</td>
                        {% for day in days %}
                            <td {% if day in room.booked_days %} 
                                    class="booked" 
                                    data-guest="{{ room.guest_name }}"
                                {% endif %}>
                            </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </body>
</html>